{% load static %}
<!-- Top Right Controls (Language & Theme) -->
<div class="top-right-controls">
    <!-- Language Selector -->
    <div class="language-dropdown">
        <button id="languageBtn" onclick="toggleLanguageMenu(event)" class="control-button" aria-label="Change language" aria-expanded="false" aria-haspopup="true">
            <span id="currentLanguageFlag" class="control-icon text-xl" aria-hidden="true">ðŸ‡ºðŸ‡¸</span>
            <span class="sr-only">Change language</span>
        </button>
        <div id="languageMenu" class="language-menu" role="menu" aria-labelledby="languageBtn">
            <div class="language-option active" role="menuitem" onclick="changeLanguage('en', event)" aria-label="Change language to English">
                <span class="text-xl" aria-hidden="true">ðŸ‡ºðŸ‡¸</span>
                <span>English</span>
            </div>
            <div class="language-option" role="menuitem" onclick="changeLanguage('es', event)" aria-label="Change language to Spanish">
                <span class="text-xl" aria-hidden="true">ðŸ‡ªðŸ‡¸</span>
                <span>EspaÃ±ol</span>
            </div>
            <div class="language-option" role="menuitem" onclick="changeLanguage('pt', event)" aria-label="Change language to Portuguese">
                <span class="text-xl" aria-hidden="true">ðŸ‡§ðŸ‡·</span>
                <span>PortuguÃªs</span>
            </div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="control-button active" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle dark mode" aria-pressed="true">
        <i class="fas fa-moon control-icon" id="themeIcon" aria-hidden="true"></i>
        <span class="sr-only">Toggle dark mode</span>
    </button>
</div>

<!-- Navigation -->
<nav class="nav-fixed" id="mainNav">
    <div class="nav-container">
        <div class="flex items-center justify-center gap-8">
            <!-- Navigation Links -->
            <nav class="hidden md:flex items-center gap-8" role="navigation" aria-label="Main navigation">
                <a href="#home" class="nav-link" data-i18n="home" aria-label="Navigate to Home section">Home</a>
                <a href="#about" class="nav-link" data-i18n="about" aria-label="Navigate to About section">About</a>
                <a href="#experience" class="nav-link" data-i18n="experience" aria-label="Navigate to Experience section">Experience</a>
                <a href="#projects" class="nav-link" data-i18n="projects" aria-label="Navigate to Projects section">Projects</a>
                <a href="#contact" class="nav-link" data-i18n="contact" aria-label="Navigate to Contact section">Contact</a>
            </nav>

            <!-- Download CV Button -->
            <div class="hidden md:flex items-center ml-8">
                <a href="{% static 'downloads/CV Piettro Rodrigues EN.pdf' %}" 
                   id="downloadCVBtn"
                   download 
                   aria-label="Download CV from navigation menu"
                   class="px-6 py-2 rounded-full bg-accent-purple hover:bg-purple-600 text-white text-sm font-semibold transition-all hover:scale-105 flex items-center gap-2">
                    <i class="fas fa-download" aria-hidden="true"></i>
                    <span>Download CV</span>
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="mobile-menu-button md:hidden" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <i class="fas fa-bars mobile-menu-icon" aria-hidden="true"></i>
                <span class="sr-only">Open navigation menu</span>
            </button>
        </div>
    </div>
</nav>

<!-- Mobile Menu (outside nav to avoid positioning issues) -->
<div id="mobile-menu" class="md:hidden hidden" role="dialog" aria-modal="true" aria-label="Navigation menu">
    <div class="mobile-menu-overlay">
        <div class="mobile-menu-content" role="menu">
            <a href="#home" class="mobile-nav-link" data-i18n="home" role="menuitem">Home</a>
            <a href="#about" class="mobile-nav-link" data-i18n="about" role="menuitem">About</a>
            <a href="#experience" class="mobile-nav-link" data-i18n="experience" role="menuitem">Experience</a>
            <a href="#projects" class="mobile-nav-link" data-i18n="projects" role="menuitem">Projects</a>
            <a href="#contact" class="mobile-nav-link" data-i18n="contact" role="menuitem">Contact</a>
            <div class="mobile-menu-divider" role="separator"></div>
            <a href="{% static 'downloads/CV Piettro Rodrigues EN.pdf' %}"
               id="downloadCVBtnMobile"
               download 
               aria-label="Download my CV from mobile navigation menu"
               class="mobile-nav-link mobile-download-btn"
               role="menuitem">
                <i class="fas fa-download mr-2" aria-hidden="true"></i>
                <span>Download CV</span>
            </a>
        </div>
    </div>
</div>

