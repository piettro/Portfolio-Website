{% extends 'portfolio/base.html' %}
{% load static %}

{% block content %}
    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 pt-16 overflow-hidden">
        <!-- Animated Background -->
        <div class="hero-background">
            <div class="geometric-pattern"></div>
            <div class="polygon-container">
                <div class="polygon polygon-1"></div>
                <div class="polygon polygon-2"></div>
                <div class="polygon polygon-3"></div>
                <div class="polygon polygon-4"></div>
                <div class="polygon polygon-5"></div>
                <div class="polygon polygon-6"></div>
                <div class="polygon polygon-7"></div>
                <div class="polygon polygon-8"></div>
                <div class="polygon polygon-9"></div>
            </div>
        </div>

        <!-- Hero Content -->
        <div class="relative z-10 text-center max-w-4xl mx-auto">
            <h1 class="text-5xl sm:text-6xl md:text-7xl font-bold mb-4" data-i18n="greeting">
                Hi, I'm Piettro Rodrigues
            </h1>
            <div class="text-2xl sm:text-3xl md:text-4xl font-light text-text-secondary min-h-[3rem] flex items-center justify-center">
                <span class="typewriter inline-block">{{ profile_info.title|default:"Data Scientist & Quantitative Research" }}</span>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center">
                <span class="inline-block" style="background: linear-gradient(90deg, #a855f7, #14b8a6, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;" data-i18n="featured_projects">
                    Featured Projects
                </span>
            </h2>
            <p class="text-center text-text-secondary mb-12 max-w-2xl mx-auto" data-i18n="projects_description">
                A collection of projects I've worked on. Each project represents a unique challenge 
                and showcases different aspects of my skills and expertise.
            </p>
            
            <!-- Filter Buttons -->
            <div class="flex flex-wrap justify-center gap-4 mb-12">
                <button class="filter-btn active px-6 py-2 rounded-full glass border border-white/10 transition-all" data-filter="all" data-i18n="all">
                    All
                </button>
                <button class="filter-btn px-6 py-2 rounded-full glass border border-white/10 transition-all" data-filter="data-science" data-i18n="data_science">
                    Data Science
                </button>
                <button class="filter-btn px-6 py-2 rounded-full glass border border-white/10 transition-all" data-filter="web" data-i18n="web_development">
                    Web Development
                </button>
                <button class="filter-btn px-6 py-2 rounded-full glass border border-white/10 transition-all" data-filter="ai" data-i18n="ai_ml">
                    AI/ML
                </button>
                <button class="filter-btn px-6 py-2 rounded-full glass border border-white/10 transition-all" data-filter="ai" data-i18n="quant">
                    Quant
                </button>
            </div>

            <!-- Projects Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8" id="projects-grid">
                {% for project in projects %}
                <div class="glass rounded-[20px] p-6 card-hover project-card cursor-pointer {% if forloop.counter > 6 %}hidden-by-default{% endif %}" 
                     data-type="{{ project.project_type }}" 
                     data-project="{{ project.id }}"
                     onclick="openProjectModal({{ project.id }})">
                    <!-- Project Icon/Logo -->
                    <div class="mb-4">
                        {% if project.logo_url %}
                        <div class="w-14 h-14 rounded-lg flex items-center justify-center overflow-hidden">
                            <img src="{{ project.logo_url }}" alt="{{ project.get_title }}" class="w-full h-full object-cover">
                        </div>
                        {% elif project.logo_bg_gradient %}
                        <div class="w-14 h-14 rounded-lg bg-gradient-to-br {{ project.logo_bg_gradient }} flex items-center justify-center">
                            {% if project.logo_text %}
                            <span class="text-white text-2xl font-bold">{{ project.logo_text }}</span>
                            {% else %}
                            <span class="text-white text-2xl font-bold">{{ project.get_title|first|upper }}</span>
                            {% endif %}
                        </div>
                        {% else %}
                        <div class="w-14 h-14 rounded-lg bg-accent-purple/20 flex items-center justify-center">
                            <i class="fas fa-project-diagram text-accent-purple text-2xl"></i>
                        </div>
                        {% endif %}
                    </div>
                    <!-- Project Title -->
                    <h3 class="font-bold text-xl mb-2">{{ project.get_title|default:project.title }}</h3>
                    <!-- Tech Stack Label -->
                    <p class="text-xs text-text-secondary mb-3">Tech Stack</p>
                    <!-- Technology Icons -->
                    <div class="flex gap-3 mb-4 flex-wrap">
                        {% for tech_link in project.technologies.all|slice:":5" %}
                        {% with tech=tech_link.technology %}
                        {% if tech.icon %}
                        <i class="{{ tech.icon }} text-2xl {% if tech.icon_color and '#' not in tech.icon_color %}text-{{ tech.icon_color }}{% endif %}" {% if tech.icon_color and '#' in tech.icon_color %}style="color: {{ tech.icon_color }};"{% endif %} title="{{ tech.name }}"></i>
                        {% else %}
                        <span class="text-xs text-text-secondary px-2 py-1 rounded glass">{{ tech.name }}</span>
                        {% endif %}
                        {% endwith %}
                        {% endfor %}
                    </div>
                    <!-- Description -->
                    <p class="text-text-secondary mb-6 text-sm leading-relaxed">
                        {{ project.get_description|default:project.description|truncatewords:20 }}
                    </p>
                    <!-- Action Buttons -->
                    <div class="flex gap-3">
                        {% if project.live_url %}
                        <button class="flex-1 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white text-sm font-semibold transition-colors flex items-center justify-center gap-2" 
                                onclick="event.stopPropagation(); window.open('{{ project.live_url }}', '_blank');">
                            <i class="fas fa-external-link-alt"></i>
                            <span data-i18n="live_demo">Live Demo</span>
                        </button>
                        {% endif %}
                        {% if project.github_url %}
                        <button class="px-4 py-2 rounded-lg glass border border-white/10 hover:border-white/20 text-text-primary text-sm font-semibold transition-colors flex items-center justify-center gap-2" 
                                onclick="event.stopPropagation(); window.open('{{ project.github_url }}', '_blank');">
                            <i class="fab fa-github"></i>
                            <span data-i18n="code">Code</span>
                        </button>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                <div class="col-span-full text-center text-text-secondary py-12">
                    <p>No projects available at the moment.</p>
                </div>
                {% endfor %}
            </div>

            <!-- View All Projects Button -->
            <div class="text-center mt-12">
                <button id="viewAllProjectsBtn" 
                        onclick="toggleAllProjects()"
                        class="px-8 py-3 rounded-full glass border border-white/10 hover:border-accent-purple text-white font-semibold transition-all hover:scale-105 flex items-center gap-2 mx-auto"
                        style="display: none;">
                    <span id="viewAllText" data-i18n="view_all_projects">View All Projects</span>
                    <i id="viewAllIcon" class="fas fa-chevron-down transition-transform"></i>
                </button>
            </div>

            <div class="text-center mt-12 space-y-6">
                <p class="text-text-secondary text-lg" data-i18n="interested_working_together">
                    Interested in working together?
                </p>
                <a href="#contact" class="px-8 py-3 rounded-full text-white font-semibold transition-all hover:scale-105 inline-block" 
                        style="background: linear-gradient(135deg, #a855f7, #3b82f6);" data-i18n="get_in_touch">
                    Get In Touch
                </a>
            </div>
        </div>
    </section>

    <!-- Project Modal -->
    <div id="projectModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4" onclick="closeProjectModal()">
        <div class="modal-overlay absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
        <div class="modal-content relative bg-bg-primary rounded-[20px] max-w-3xl w-full max-h-[90vh] overflow-y-auto glass border border-white/10 shadow-2xl" 
             onclick="event.stopPropagation()">
            <!-- Modal Header -->
            <div class="sticky top-0 bg-bg-primary/95 backdrop-blur-sm border-b border-white/10 rounded-t-[20px] z-10">
                <!-- Close Button -->
                <div class="absolute top-4 right-4 z-20">
                    <button onclick="closeProjectModal()" class="w-10 h-10 rounded-full glass border border-white/10 hover:border-accent-red hover:bg-accent-red/10 flex items-center justify-center transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <!-- Image Carousel -->
                <div class="relative w-full h-64 md:h-80 overflow-hidden rounded-t-[20px]">
                    <div id="modalCarousel" class="flex transition-transform duration-500 ease-in-out h-full">
                        <!-- Images will be inserted here -->
                    </div>
                    
                    <!-- Carousel Navigation -->
                    <button id="carouselPrev" onclick="changeCarouselImage(-1)" class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full glass border border-white/20 hover:border-white/40 flex items-center justify-center transition-colors backdrop-blur-sm">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="carouselNext" onclick="changeCarouselImage(1)" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full glass border border-white/20 hover:border-white/40 flex items-center justify-center transition-colors backdrop-blur-sm">
                        <i class="fas fa-chevron-right"></i>
                    </button>

                    <!-- Carousel Indicators -->
                    <div id="carouselIndicators" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">
                        <!-- Indicators will be inserted here -->
                    </div>
                </div>

                <!-- Title and Subtitle -->
                <div class="p-6">
                    <h2 id="modalTitle" class="text-3xl font-bold mb-2 text-text-primary"></h2>
                    <p id="modalType" class="text-text-secondary text-lg"></p>
                </div>
            </div>

            <!-- Modal Body -->
            <div class="p-6 space-y-6">
                <!-- Description -->
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-text-primary">Description</h3>
                    <p id="modalDescription" class="text-text-secondary leading-relaxed"></p>
                </div>

                <!-- Challenges -->
                <div id="modalChallengesSection" style="display: none;">
                    <h3 class="text-lg font-semibold mb-3 text-text-primary" data-i18n="challenges">Challenges & Problems</h3>
                    <p id="modalChallenges" class="text-text-secondary leading-relaxed"></p>
                </div>

                <!-- Solutions -->
                <div id="modalSolutionsSection" style="display: none;">
                    <h3 class="text-lg font-semibold mb-3 text-text-primary" data-i18n="solutions">Solutions</h3>
                    <p id="modalSolutions" class="text-text-secondary leading-relaxed"></p>
                </div>

                <!-- Tech Stack -->
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-text-primary">Tech Stack</h3>
                    <div id="modalTechStack" class="flex flex-wrap gap-3">
                        <!-- Tech icons will be inserted here -->
                    </div>
                </div>

                <!-- Links -->
                <div class="flex gap-4 pt-4 border-t border-white/10">
                    <button id="modalLiveBtn" class="flex-1 px-6 py-3 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors flex items-center justify-center gap-2">
                        <i class="fas fa-external-link-alt"></i>
                        View Live Demo
                    </button>
                    <button id="modalCodeBtn" class="flex-1 px-6 py-3 rounded-lg glass border border-white/10 hover:border-white/20 text-text-primary font-semibold transition-colors flex items-center justify-center gap-2">
                        <i class="fab fa-github"></i>
                        View Code on GitHub
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Experience Timeline Section -->
    <section id="experience" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-5xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-16 text-center gradient-text-purple" data-i18n="professional_journey">
                Professional Journey
            </h2>

            <div class="relative">
                <div class="timeline-line"></div>
                
                {% for experience in experiences %}
                <div class="relative mb-16 experience-card" data-index="{{ forloop.counter0 }}" {% if forloop.counter > 3 %}style="display: none;"{% endif %}>
                    <div class="timeline-dot top-8"></div>
                    <div class="{% if forloop.counter|divisibleby:2 %}ml-0 md:ml-[55%]{% else %}mr-0 md:mr-[55%]{% endif %} glass rounded-[20px] p-6 card-hover">
                        <div class="flex items-start gap-4">
                            <div class="w-14 h-14 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden">
                                {% if experience.company_logo_image %}
                                <img src="{{ experience.company_logo_image }}" alt="{{ experience.company }}" class="w-full h-full object-contain">
                                {% else %}
                                <i class="{{ experience.icon }} text-white text-xl"></i>
                                {% endif %}
                            </div>
                            <div class="flex-1">
                                <h3 class="text-xl font-semibold text-text-primary mb-2">{{ experience.get_title|default:experience.title }}</h3>
                                <p class="{% if experience.icon_color %}text-{{ experience.icon_color }}{% else %}text-blue-400{% endif %} mb-3">{{ experience.company }}</p>
                                <div class="flex flex-wrap items-center gap-4 text-text-secondary text-sm mb-4">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-calendar text-xs"></i>
                                        <span>{{ experience.period_display }}</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-globe text-xs"></i>
                                        <span>{{ experience.location_display }}</span>
                                    </div>
                                </div>
                                <p class="text-text-secondary text-sm mb-4">
                                    {{ experience.get_description|default:experience.description }}
                                </p>
                                <button class="{% if experience.icon_color %}text-{{ experience.icon_color }}{% else %}text-blue-400{% endif %} text-sm hover:underline flex items-center gap-2 toggle-details" data-id="exp{{ experience.id }}">
                                    <span data-i18n="show_more">Show More</span>
                                    <i class="fas fa-chevron-down text-xs"></i>
                                </button>
                                <div id="exp{{ experience.id }}-details" class="hidden mt-6 space-y-6">
                                    <!-- Key Achievements Section -->
                                    {% if experience.achievements.all %}
                                    <div>
                                        <h4 class="text-text-primary font-semibold mb-3 flex items-center gap-2">
                                            <i class="fas fa-bolt text-yellow-400"></i>
                                            <span data-i18n="key_achievements">Key Achievements</span>
                                        </h4>
                                        <ul class="list-disc list-inside text-text-secondary text-sm space-y-2 ml-2">
                                            {% for achievement in experience.achievements.all %}
                                            <li>{{ achievement.get_text }}</li>
                                            {% endfor %}
                                        </ul>
                                    </div>
                                    {% endif %}
                                    <!-- Technologies Used Section -->
                                    {% if experience.technologies.all %}
                                    <div>
                                        <h4 class="text-text-primary font-semibold mb-3 flex items-center gap-2">
                                            <i class="fas fa-laptop text-blue-400"></i>
                                            <span data-i18n="technologies_used">Technologies Used</span>
                                        </h4>
                                        <div class="flex flex-wrap gap-2">
                                            {% for tech in experience.technologies.all %}
                                            <span class="px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs flex items-center gap-2 text-text-primary">
                                                {% if tech.icon %}
                                                <i class="{{ tech.icon }} {% if tech.icon_color and '#' not in tech.icon_color %}text-{{ tech.icon_color }}{% endif %}" {% if tech.icon_color and '#' in tech.icon_color %}style="color: {{ tech.icon_color }};"{% endif %}></i>
                                                {% endif %}
                                                {{ tech.name }}
                                            </span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="text-center text-text-secondary py-12">
                    <p>No experiences available at the moment.</p>
                </div>
                {% endfor %}
            </div>
            
            <!-- View All Button -->
            <div class="text-center mt-12">
                <button id="viewAllExperiencesBtn" onclick="toggleAllExperiences()" 
                        class="px-8 py-3 rounded-full glass border border-white/10 hover:border-accent-purple text-text-primary transition-all"
                        style="display: none;">
                    <span data-i18n="view_all_experiences">View All Experiences</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Skills & Technical Expertise Section -->
    <section id="skills" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <!-- Main Title -->
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center">
                Skills <span class="gradient-text-purple">&amp; Tech Stack</span>
            </h2>
            <p class="text-center text-text-secondary mb-12 max-w-2xl mx-auto" data-i18n="skills_description">
                Advanced expertise in Data Science, Machine Learning, and AI-driven solutions.
            </p>

            <!-- Core Competencies -->
            <div class="mb-16">
                <h3 class="text-2xl md:text-3xl font-semibold text-center mb-2">
                    <span data-i18n="core_competencies" data-i18n="core_competencies">Core Competencies</span>
                </h3>
                <p class="text-center text-text-secondary mb-10 max-w-3xl mx-auto text-sm" data-i18n="core_competencies_description">
                    Essential soft skills and core capabilities that drive my professional excellence.
                </p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    {% for competency in core_competencies %}
                    <div class="glass rounded-[20px] p-6 card-hover">
                        <div class="w-16 h-16 rounded-lg {{ competency.icon_bg_color }} flex items-center justify-center mb-4">
                            <i class="{{ competency.icon }} text-2xl {% if competency.icon_color %}text-{{ competency.icon_color }}{% endif %}"></i>
                        </div>
                        <h4 class="text-xl font-bold mb-2">{{ competency.get_name|default:competency.name }}</h4>
                        <p class="text-text-secondary text-sm">{{ competency.get_description|default:competency.description }}</p>
                    </div>
                    {% empty %}
                    <div class="col-span-full text-center text-text-secondary py-12">
                        <p>No competencies available at the moment.</p>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Technical Expertise -->
            <div>
                <h3 class="text-2xl md:text-3xl font-semibold text-center mb-2">
                    <span data-i18n="technical_expertise">Technical Expertise</span>
                </h3>
                <p class="text-center text-text-secondary mb-10 max-w-3xl mx-auto text-sm" data-i18n="technical_expertise_description">
                    Comprehensive technical skills across various domains with proficiency levels.
                </p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    {% for category in skill_categories %}
                    <div class="glass rounded-[20px] p-6 card-hover">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-lg bg-accent-purple/20 flex items-center justify-center">
                                <i class="{{ category.icon }} text-accent-purple"></i>
                            </div>
                            <h4 class="text-xl font-bold">{{ category.get_name|default:category.name }}</h4>
                        </div>
                        <div class="space-y-4">
                            {% for skill in category.skills.all %}
                            <div>
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2">
                                        {% if skill.icon %}
                                        <img src="{{ skill.icon }}" alt="{{ skill.get_name|default:skill.name }}" style="width: 1.3rem; height: 1.3rem; object-fit: contain; border-radius: 0.375rem;">
                                        {% endif %}
                                        <span class="font-medium">{{ skill.get_name|default:skill.name }}</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        {% if skill.experience_years %}
                                        <span class="px-2 py-1 rounded-full bg-white/5 border border-white/10 text-xs">{{ skill.experience_years }}</span>
                                        {% endif %}
                                        <span class="text-text-secondary text-sm font-medium">{{ skill.percentage }}%</span>
                                    </div>
                                </div>
                                <div class="w-full h-2 rounded-full bg-white/5 overflow-hidden">
                                    <div class="h-full rounded-full skill-bar-fill" style="width: {{ skill.percentage }}%; background: linear-gradient(90deg, var(--accent-purple), var(--accent-teal));"></div>
                                </div>
                                {% if skill.description %}
                                <p class="text-text-secondary text-xs mt-1">{{ skill.get_description|default:skill.description }}</p>
                                {% endif %}
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% empty %}
                    <div class="col-span-full text-center text-text-secondary py-12">
                        <p>No skills available at the moment.</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>

    <!-- About Me Section -->
    <section id="about" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center">
                <span class="inline-block" style="background: linear-gradient(90deg, #a855f7, #14b8a6, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;" data-i18n="about_me">
                    About Me
                </span>
            </h2>
            <p class="text-center text-text-secondary mb-12 max-w-2xl mx-auto" data-i18n="about_me_description">
                Crafting data-driven solutions & intelligent systems.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <!-- Left Column - Text -->
                <div>
                    <h3 class="text-2xl font-semibold mb-4">Background</h3>
                    <div class="text-text-secondary space-y-4">
                        <p data-i18n="about_me_paragraphs_1">
                            I'm a passionate Data Scientist with over 5 years of experience in transforming raw data into actionable insights. 
                            My journey started with a fascination for patterns and predictions, which led me to specialize in machine learning, 
                            data engineering, and business intelligence.
                        </p>
                        <p data-i18n="about_me_paragraphs_2">
                            I've worked with various industries, from healthcare to finance, helping organizations leverage their data to make 
                            informed decisions. My expertise spans the entire data science lifecycle, from data collection and cleaning to model 
                            deployment and monitoring.
                        </p>
                        <p data-i18n="about_me_paragraphs_3">
                            Beyond technical skills, I'm passionate about continuous learning and staying updated with the latest trends in AI and 
                            data science. I enjoy sharing knowledge through blog posts, speaking at conferences, and mentoring aspiring data scientists.
                        </p>
                    </div>
                </div>

                <!-- Right Column - Expertise Areas -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="glass rounded-[20px] p-6 card-hover text-center">
                        <div class="w-12 h-12 rounded-lg bg-accent-purple/20 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-chart-line text-accent-purple text-xl"></i>
                        </div>
                        <h4 class="font-semibold mb-2" data-i18n="data_analytics_about">Data Analytics</h4>
                        <p class="text-xs text-text-secondary" data-i18n="data_analytics_about_description">Statistical analysis and insights</p>
                    </div>

                    <div class="glass rounded-[20px] p-6 card-hover text-center">
                        <div class="w-12 h-12 rounded-lg bg-accent-teal/20 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-cogs text-accent-teal text-xl"></i>
                        </div>
                        <h4 class="font-semibold mb-2" data-i18n="problem_solver_about">Problem Solver</h4>
                        <p class="text-xs text-text-secondary" data-i18n="problem_solver_about_description">Creative solutions</p>
                    </div>

                    <div class="glass rounded-[20px] p-6 card-hover text-center">
                        <div class="w-12 h-12 rounded-lg bg-accent-red/20 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-users text-accent-red text-xl"></i>
                        </div>
                        <h4 class="font-semibold mb-2" data-i18n="team_player_about">Team Player</h4>
                        <p class="text-xs text-text-secondary" data-i18n="team_player_about_description">Collaborative mindset</p>
                    </div>

                    <div class="glass rounded-[20px] p-6 card-hover text-center">
                        <div class="w-12 h-12 rounded-lg bg-accent-purple/20 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-brain text-accent-purple text-xl"></i>
                        </div>
                        <h4 class="font-semibold mb-2" data-i18n="ai_expert_about">AI Expert</h4>
                        <p class="text-xs text-text-secondary" data-i18n="ai_expert_about_description">ML & Deep Learning</p>
                    </div>
                </div>
            </div>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center mt-12">
                <button class="px-8 py-3 rounded-full bg-accent-purple text-white hover:bg-purple-600 transition-colors">
                    <i class="fas fa-download mr-2"></i><span data-i18n="download_cv">Download CV</span>
                </button>
                <a href="#contact" class="px-8 py-3 rounded-full glass border border-white/10 hover:border-accent-purple transition-colors inline-block text-center" data-i18n="contact_me">
                    Contact Me
                </a>
            </div>
        </div>
    </section>

    <!-- Certifications Section -->
    <section id="certifications" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center">
                <span class="gradient-text-purple" data-i18n="certifications">Certificates</span>
            </h2>
            <p class="text-center text-text-secondary mb-12" data-i18n="certifications_description">
                Professional certifications and courses I've completed
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="certifications-grid">
                {% for certification in certifications %}
                <div class="glass rounded-[20px] p-6 card-hover certification-card {% if forloop.counter > 3 %}hidden-by-default{% endif %}">
                    <div class="flex items-start justify-between mb-4">
                        <div class="w-12 h-12 rounded-full {% if certification.icon_color and '#' not in certification.icon_color %}bg-{{ certification.icon_color }}/20{% else %}bg-accent-purple/20{% endif %} flex items-center justify-center flex-shrink-0">
                            {% if certification.icon %}
                            <i class="{{ certification.icon }} text-white text-xl {% if certification.icon_color and '#' in certification.icon_color %}" style="color: {{ certification.icon_color }};"{% endif %}"></i>
                            {% else %}
                            <i class="fas fa-certificate text-white text-xl"></i>
                            {% endif %}
                        </div>
                        {% if certification.credential_url %}
                        <a href="{{ certification.credential_url }}" target="_blank" rel="noopener noreferrer" class="text-blue-400 text-sm hover:underline flex items-center gap-1">
                            View <i class="fas fa-external-link-alt text-xs"></i>
                        </a>
                        {% endif %}
                    </div>
                    <h3 class="font-semibold text-text-primary text-lg mb-2">{{ certification.get_title }}</h3>
                    <p class="text-text-secondary text-sm mb-2">{{ certification.issuer }}</p>
                    {% if certification.issue_date %}
                    <p class="text-text-secondary text-xs mb-4">Issued: {{ certification.issue_date|date:"F Y" }}</p>
                    {% endif %}
                    {% if certification.get_description %}
                    <p class="text-text-secondary text-sm leading-relaxed">
                        {{ certification.get_description }}
                    </p>
                    {% endif %}
                </div>
                {% empty %}
                <div class="col-span-full text-center text-text-secondary py-12">
                    <p>No certifications available at the moment.</p>
                </div>
                {% endfor %}
            </div>

            <!-- View All Certifications Button -->
            <div class="text-center mt-12">
                <button id="viewAllCertificationsBtn" 
                        onclick="toggleAllCertifications()"
                        class="px-8 py-3 rounded-full glass border border-white/10 hover:border-accent-purple text-white font-semibold transition-all hover:scale-105 flex items-center gap-2 mx-auto"
                        style="display: none;">
                    <span id="viewAllCertificationsText" data-i18n="view_all_certifications">View All Certificates</span>
                    <i id="viewAllCertificationsIcon" class="fas fa-chevron-down transition-transform"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Hobbies, Interests and Blog Section -->
    <section class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center" data-i18n="hobbies_interests_blog">
                Hobbies, Interests <span class="gradient-text-purple">&amp; Blog</span>
            </h2>
            <p class="text-center text-text-secondary mb-12 max-w-3xl mx-auto" data-i18n="hobbies_interests_blog_description">
                Sharing my thoughts, experiences, and insights from my journey as a data scientist. 
                Read about challenges, learnings, AI engineering stuff, and the exciting world of technology.
            </p>

            <!-- Hobbies & Interests Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
                {% for hobby in hobbies %}
                <div class="glass rounded-[20px] overflow-hidden card-hover group">
                    <div class="relative h-48 overflow-hidden">
                        {% if hobby.image_url %}
                        <img src="{{ hobby.image_url }}" 
                             alt="{{ hobby.get_name }}" 
                             class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                        {% else %}
                        <div class="w-full h-full bg-gradient-to-br from-accent-purple/20 to-accent-teal/20 flex items-center justify-center">
                            <i class="fas fa-heart text-4xl text-white/40"></i>
                        </div>
                        {% endif %}
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
                        <div class="absolute bottom-4 left-4 right-4">
                            <h3 class="hobby-card-title font-semibold text-lg">{{ hobby.get_name }}</h3>
                        </div>
                    </div>
                    {% if hobby.get_description %}
                    <div class="p-6">
                        <p class="text-text-secondary text-sm leading-relaxed">
                            {{ hobby.get_description }}
                        </p>
                    </div>
                    {% endif %}
                </div>
                {% empty %}
                <div class="col-span-full text-center text-text-secondary py-12">
                    <p>No hobbies available at the moment.</p>
                </div>
                {% endfor %}
            </div>

            <!-- Blog Card -->
            {% if featured_blog_post %}
            <div class="glass rounded-[20px] p-8 card-hover max-w-3xl mx-auto">
                <!-- Metadata -->
                <div class="flex items-center gap-3 text-text-secondary text-sm mb-4">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-calendar text-xs"></i>
                        <span>{{ featured_blog_post.published_date|date:"F d, Y" }}</span>
                    </div>
                    <span>â€¢</span>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-clock text-xs"></i>
                        <span>{{ featured_blog_post.read_time }} min read</span>
                    </div>
                </div>
                
                <!-- Title -->
                <h3 class="text-2xl md:text-3xl font-bold mb-4 text-text-primary">{{ featured_blog_post.get_title|default:featured_blog_post.title }}</h3>
                
                <!-- Excerpt/Description -->
                {% if featured_blog_post.get_description %}
                <p class="text-text-secondary mb-6 leading-relaxed">
                    {{ featured_blog_post.get_description|truncatewords:50 }}
                </p>
                {% elif featured_blog_post.get_excerpt %}
                <p class="text-text-secondary mb-6 leading-relaxed">
                    {{ featured_blog_post.get_excerpt|truncatewords:50 }}
                </p>
                {% endif %}
                
                <!-- Tags -->
                {% if featured_blog_post.tags %}
                <div class="flex flex-wrap gap-2 mb-6">
                    {% for tag in featured_blog_post.get_tags_list %}
                    <span class="px-3 py-1.5 rounded-full bg-accent-purple/20 border border-accent-purple/30 text-accent-purple text-xs font-medium">
                        {{ tag }}
                    </span>
                    {% endfor %}
                </div>
                {% endif %}
                
                <!-- Action Buttons -->
                <div class="flex flex-wrap gap-4">
                    {% if featured_blog_post.link %}
                    <a data-i18n="read_full_article" href="{{ featured_blog_post.link }}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-accent-purple text-white hover:bg-purple-600 transition-colors font-semibold">
                        <i class="fas fa-external-link-alt text-sm"></i>
                        Read Full Article
                    </a>
                    {% endif %}
                    {% if profile_info.blog_url %}
                    <a data-i18n="view_all_posts" href="{{ profile_info.blog_url }}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-3 rounded-full glass border border-white/10 hover:border-accent-purple hover:bg-white/5 transition-colors font-semibold text-text-primary">
                        <i class="fas fa-book text-sm"></i>
                        View All Posts
                    </a>
                    {% endif %}
                </div>
            </div>
            {% else %}
            <div class="glass rounded-[20px] p-8 card-hover max-w-3xl mx-auto text-center">
                <p class="text-text-secondary" data-i18n="no_blog_posts">No blog posts available at the moment.</p>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto max-w-7xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-center">
                <span class="inline-block" style="background: linear-gradient(90deg, #a855f7, #14b8a6, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;" data-i18n="contact">
                    Contact
                </span>
            </h2>
            <p class="text-center text-text-secondary mb-12 max-w-2xl mx-auto" data-i18n="contact_description">
                Ready to bring your ideas to life? Let's discuss your next project.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Left Column - Contact Info -->
                <div>
                    <div class="space-y-6 mb-8">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-lg bg-accent-purple/20 flex items-center justify-center">
                                <i class="fas fa-envelope text-accent-purple"></i>
                            </div>
                            <div>
                                <p class="text-text-secondary text-sm">Email</p>
                                <p class="font-semibold">{{ profile_info.email|default:"Email" }}</p>
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-lg bg-accent-teal/20 flex items-center justify-center">
                                <i class="fas fa-phone text-accent-teal"></i>
                            </div>
                            <div>
                                <p data-i18n="phone" class="text-text-secondary text-sm">Phone</p>
                                <p class="font-semibold">{{ profile_info.phone|default:"Phone" }}</p>
                            </div>
                        </div>

                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-lg bg-accent-red/20 flex items-center justify-center">
                                <i class="fas fa-map-marker-alt text-accent-red"></i>
                            </div>
                            <div>
                                <p data-i18n="location" class="text-text-secondary text-sm">Location</p>
                                <p class="font-semibold">{{ profile_info.location|default:"Location" }}</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="font-semibold mb-4" data-i18n="follow_me">Follow Me</h3>
                        <div class="flex gap-4">
                            <a href="{{ profile_info.github|default:"#" }}" class="w-12 h-12 rounded-full glass border border-white/10 flex items-center justify-center hover:border-accent-purple transition-colors">
                                <i class="fab fa-github text-xl"></i>
                            </a>
                            <a href="{{ profile_info.linkedin|default:"#" }}" class="w-12 h-12 rounded-full glass border border-white/10 flex items-center justify-center hover:border-accent-teal transition-colors">
                                <i class="fab fa-linkedin text-xl"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Contact Form -->
                <div>
                    <form id="contactForm" class="space-y-4" method="post" action="{% url 'contact_submit' %}">
                        {% csrf_token %}
                        <div>
                            <input type="text" name="name" id="id_name" placeholder="Your Name" 
                                data-i18n-placeholder="your_name" required
                                class="w-full px-4 py-3 rounded-lg glass border border-white/10 bg-transparent text-text-primary placeholder:text-text-secondary focus:outline-none focus:border-accent-purple transition-colors">
                        </div>
                        <div>
                            <input type="email" name="email" id="id_email" placeholder="Your Email" 
                                data-i18n-placeholder="your_email" required
                                class="w-full px-4 py-3 rounded-lg glass border border-white/10 bg-transparent text-text-primary placeholder:text-text-secondary focus:outline-none focus:border-accent-purple transition-colors">
                        </div>
                        <div>
                            <input type="text" name="subject" id="id_subject" placeholder="Subject" 
                                data-i18n-placeholder="subject" required
                                class="w-full px-4 py-3 rounded-lg glass border border-white/10 bg-transparent text-text-primary placeholder:text-text-secondary focus:outline-none focus:border-accent-purple transition-colors">
                        </div>
                        <div>
                            <textarea rows="5" name="message" id="id_message" placeholder="Your Message" 
                                data-i18n-placeholder="message" required
                                class="w-full px-4 py-3 rounded-lg glass border border-white/10 bg-transparent text-text-primary placeholder:text-text-secondary focus:outline-none focus:border-accent-purple transition-colors resize-none"></textarea>
                        </div>
                        <div class="flex gap-4">
                            <button type="submit" id="submitBtn"
                                class="flex-1 px-6 py-3 rounded-full bg-accent-purple text-white hover:bg-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" data-i18n="send_message">
                                <span id="submitBtnText">Send Message</span>
                                <span id="submitBtnLoading" class="hidden">
                                    <i class="fas fa-spinner fa-spin mr-2"></i>
                                    <span data-i18n="sending">Sending...</span>
                                </span>
                            </button>
                            <button type="button" 
                                data-i18n="schedule_call"
                                class="px-6 py-3 rounded-full glass border border-white/10 hover:border-accent-purple transition-colors text-text-primary" data-i18n="schedule_call">
                                Schedule a Call
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Message Modal -->
    <div id="messageModal" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm opacity-0 invisible transition-all duration-300">
        <div class="bg-bg-primary border border-white/10 rounded-[20px] p-8 max-w-md w-full mx-4 transform scale-95 transition-transform duration-300 glass shadow-2xl">
            <div id="messageModalContent" class="text-center">
                <h3 id="messageModalTitle" class="text-2xl font-bold mb-4 flex items-center justify-center"></h3>
                <p id="messageModalMessage" class="text-text-secondary mb-6 leading-relaxed"></p>
                <button id="messageModalClose" class="px-6 py-3 rounded-full bg-accent-purple text-white hover:bg-purple-600 transition-colors font-semibold min-w-[100px]">
                    OK
                </button>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script>
        // Project Data - Generated from Django
        const projectsData = {
            {% for project in projects %}
            {{ project.id }}: {
                title: "{{ project.get_title|escapejs }}",
                type: "{{ project.project_type|capfirst }}",
                images: [
                    {% for img in project.images.all %}
                    "{{ img.image_url|escapejs }}"{% if not forloop.last %},{% endif %}
                    {% empty %}
                    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop"
                    {% endfor %}
                ],
                description: "{{ project.get_description|escapejs }}",
                challenges: "{{ project.get_challenges|escapejs }}",
                solutions: "{{ project.get_solutions|escapejs }}",
                techStack: [
                    {% for tech_link in project.technologies.all %}
                    {% with tech=tech_link.technology %}
                    { 
                        name: "{{ tech.name|escapejs }}", 
                        icon: '{{ tech.icon|escapejs }}',
                        iconColor: "{{ tech.icon_color|escapejs }}"
                    }{% if not forloop.last %},{% endif %}
                    {% endwith %}
                    {% endfor %}
                ],
                liveUrl: "{{ project.live_url|default:'#'|escapejs }}",
                codeUrl: "{{ project.github_url|default:'#'|escapejs }}"
            }{% if not forloop.last %},{% endif %}
            {% endfor %}
        };

        // Toggle All Certifications Function
        function toggleAllCertifications() {
            const hiddenCertifications = document.querySelectorAll('.certification-card.hidden-by-default');
            const btn = document.getElementById('viewAllCertificationsBtn');
            const btnText = document.getElementById('viewAllCertificationsText');
            const btnIcon = document.getElementById('viewAllCertificationsIcon');
            const isShowing = btnText.textContent.includes('View All');

            hiddenCertifications.forEach(cert => {
                if (isShowing) {
                    cert.style.display = 'block';
                    cert.classList.add('fade-in');
                } else {
                    cert.style.display = 'none';
                    cert.classList.remove('fade-in');
                }
            });

            if (isShowing) {
                btnText.textContent = 'Show Less';
                btnIcon.style.transform = 'rotate(180deg)';
            } else {
                btnText.textContent = 'View All Certificates';
                btnIcon.style.transform = 'rotate(0deg)';
            }
        }

        // Initialize Certifications View
        document.addEventListener('DOMContentLoaded', function() {
            const allCertifications = document.querySelectorAll('.certification-card');
            const hiddenCertifications = document.querySelectorAll('.certification-card.hidden-by-default');
            const viewAllBtn = document.getElementById('viewAllCertificationsBtn');
            
            if (hiddenCertifications.length > 0) {
                viewAllBtn.style.display = 'flex';
                hiddenCertifications.forEach(cert => {
                    cert.style.display = 'none';
                });
            }

            // Initialize Contact Form with AJAX
            initContactForm();
        });

        // Contact Form Handler
        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            const submitBtn = document.getElementById('submitBtn');
            const submitBtnText = document.getElementById('submitBtnText');
            const submitBtnLoading = document.getElementById('submitBtnLoading');
            
            if (!contactForm) return;

            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Validate form before submission
                const name = document.getElementById('id_name').value.trim();
                const email = document.getElementById('id_email').value.trim();
                const subject = document.getElementById('id_subject').value.trim();
                const message = document.getElementById('id_message').value.trim();
                
                if (!name || !email || !subject || !message) {
                    showMessage('error', 'Por favor, preencha todos os campos obrigatÃ³rios.');
                    return;
                }
                
                // Basic email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    showMessage('error', 'Por favor, insira um endereÃ§o de email vÃ¡lido.');
                    return;
                }
                
                // Show loading state
                showLoading();
                
                try {
                    const formData = new FormData(contactForm);
                    
                    const response = await fetch(contactForm.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'X-Requested-With': 'XMLHttpRequest',
                        }
                    });
                    
                    const data = await response.json();
                    
                    // Hide loading
                    hideLoading();
                    
                    if (response.ok && data.success) {
                        showMessage('success', data.message || 'Mensagem enviada com sucesso! Retornarei em breve.');
                        contactForm.reset();
                        
                        // Add success animation to form
                        contactForm.style.transform = 'scale(0.98)';
                        setTimeout(() => {
                            contactForm.style.transform = 'scale(1)';
                        }, 200);
                        
                    } else {
                        const errorMessage = data.message || 
                            (data.errors ? 'Verifique os campos do formulÃ¡rio.' : 'Erro ao enviar mensagem. Tente novamente.');
                        showMessage('error', errorMessage);
                    }
                    
                } catch (error) {
                    console.error('Erro no envio:', error);
                    hideLoading();
                    showMessage('error', 'Erro de conexÃ£o. Verifique sua internet e tente novamente.');
                }
            });

            function showLoading() {
                submitBtn.disabled = true;
                submitBtn.classList.add('pulse');
                submitBtnText.style.display = 'none';
                submitBtnLoading.classList.remove('hidden');
                submitBtnLoading.classList.add('show');
            }

            function hideLoading() {
                submitBtn.disabled = false;
                submitBtn.classList.remove('pulse');
                submitBtnText.style.display = 'inline';
                submitBtnLoading.classList.add('hidden');
                submitBtnLoading.classList.remove('show');
            }

            function showMessage(type, message) {
                const modal = document.getElementById('messageModal');
                const modalDiv = modal.querySelector('div');
                const title = document.getElementById('messageModalTitle');
                const messageText = document.getElementById('messageModalMessage');
                const closeBtn = document.getElementById('messageModalClose');
                
                // Reset modal classes
                modalDiv.classList.remove('modal-success', 'modal-error');
                
                // Configure modal content based on type
                if (type === 'success') {
                    title.innerHTML = '<i class="fas fa-check-circle text-green-500 mr-3"></i>Mensagem Enviada!';
                    title.className = 'text-2xl font-bold mb-4 flex items-center justify-center text-green-500';
                    closeBtn.className = 'px-8 py-3 rounded-full bg-green-500 text-white hover:bg-green-600 transition-colors font-semibold min-w-[120px]';
                    modalDiv.classList.add('modal-success');
                } else {
                    title.innerHTML = '<i class="fas fa-exclamation-triangle text-red-500 mr-3"></i>Erro no Envio';
                    title.className = 'text-2xl font-bold mb-4 flex items-center justify-center text-red-500';
                    closeBtn.className = 'px-8 py-3 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors font-semibold min-w-[120px]';
                    modalDiv.classList.add('modal-error');
                }
                
                messageText.textContent = message;
                
                // Show modal with smooth animation
                modal.style.display = 'flex';
                setTimeout(() => {
                    modal.classList.remove('opacity-0', 'invisible');
                    modal.classList.add('opacity-100', 'visible');
                    modal.querySelector('.transform').classList.remove('scale-95');
                    modal.querySelector('.transform').classList.add('scale-100');
                }, 10);
                
                // Close modal function
                const closeModal = () => {
                    modal.classList.add('opacity-0', 'invisible');
                    modal.classList.remove('opacity-100', 'visible');
                    modal.querySelector('.transform').classList.add('scale-95');
                    modal.querySelector('.transform').classList.remove('scale-100');
                    
                    setTimeout(() => {
                        modal.style.display = 'none';
                    }, 300);
                };
                
                // Event listeners for closing
                closeBtn.onclick = closeModal;
                modal.onclick = (e) => {
                    if (e.target === modal) closeModal();
                };
                
                // ESC key to close
                const escKeyListener = (e) => {
                    if (e.key === 'Escape') {
                        closeModal();
                        document.removeEventListener('keydown', escKeyListener);
                    }
                };
                document.addEventListener('keydown', escKeyListener);
                
                // Auto close success messages after 4 seconds
                if (type === 'success') {
                    setTimeout(() => {
                        closeModal();
                        document.removeEventListener('keydown', escKeyListener);
                    }, 4000);
                }
            }
        }
    </script>
{% endblock %}